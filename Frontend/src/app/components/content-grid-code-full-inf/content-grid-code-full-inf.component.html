<div class="code-grid-container" (mouseenter)="onMouseEnterGridCode()" (mouseleave)="onMouseLeaveGridCode()">

    <div class="center-container-grid-code">
        <div class="link" (mousedown)="handlePageClick()">

            <a class="preview">
                <div class="output-field">
                    <iframe [srcdoc]="iframeContent" sandbox="allow-scripts"></iframe>
                </div>
            </a>
            <a class="previewPop">
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-arrows-fullscreen" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z" />
                    </svg>
                </button>
            </a>
        </div>

        <div class="header">
            <h2 class="name-code">
                <a class="code-name">{{ namePen }}</a>
            </h2>
            <div class="three-dot-list" (click)="$event.stopPropagation()">

                <div class="list-items {{random_number}}">
                    <ul>
                        <li class="list-collection-li {{random_number}}" (click)="onClickAddCollection()">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                <rect y="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect>
                                <rect x="10.36" y="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect>
                                <rect width="9.64" height="9.64" rx="1" ry="1"></rect>
                                <rect x="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect>
                            </svg>
                            {{informationPen[0]}}
                        </li>
                        <li (click)="handlePinClick()">
                            <svg viewBox="0 0 12 18">
                                <path
                                    d="M1.5 7.74V1.8c-.414 0-.75-.403-.75-.9s.336-.9.75-.9h9c.414 0 .75.403.75.9s-.336.9-.75.9v5.94a7.567 7.567 0 0 1 1.274 2.55c.11.395.166.73.195.973a4.701 4.701 0 0 1 .03.387v.031l.001.01v.007s-.004-.117 0 .002c0 .497-.336.9-.75.9h-4.5v4.5c0 .497-.336.9-.75.9s-.75-.403-.75-.9v-4.5H.75c-.414 0-.75-.403-.75-.9v-.019a2.22 2.22 0 0 1 .005-.122c.004-.074.011-.173.026-.296.029-.244.085-.578.195-.973.2-.72.575-1.632 1.274-2.55Z">
                                </path>
                            </svg>
                            {{informationPen[1]}}
                        </li>
                        <li (click)="handleToggleStatusClick()">

                            <svg *ngIf="informationPen[2] == 'Make Private'" viewBox="0 0 100 125"
                                class="ItemActionsPrivacy-module_icon-3Pn-9">
                                <path _ngcontent-ng-c613809071=""
                                    d="M79.244 100H20.757a3.773 3.773 0 0 1-3.774-3.775V58.113a3.773 3.773 0 0 1 3.774-3.773h3.773V38.191c0-14.066 11.403-25.47 25.471-25.47 14.065 0 25.47 11.403 25.47 25.47V54.34h3.773a3.773 3.773 0 0 1 3.773 3.773v38.111A3.773 3.773 0 0 1 79.244 100zM63.482 38.945c0-7.445-6.037-13.48-13.481-13.48-7.446 0-13.481 6.035-13.481 13.48V54.34h26.963V38.945z">
                                </path>
                            </svg>
                            <svg *ngIf="informationPen[2]=='Make Public'" viewBox="0 0 72 72" width="16px"
                                height="16px">
                                <path
                                    d="M 49 10 C 41.28 10 35 16.28 35 24 L 35 28 L 18 28 C 13.582 28 10 31.582 10 36 L 10 52 C 10 56.418 13.582 60 18 60 L 40 60 C 44.418 60 48 56.418 48 52 L 48 36 C 48 32.643974 45.930202 29.775473 43 28.587891 L 43 24 C 43 20.691 45.691 18 49 18 C 52.309 18 55 20.691 55 24 L 55 32 C 55 34.209 56.791 36 59 36 C 61.209 36 63 34.209 63 32 L 63 24 C 63 16.28 56.72 10 49 10 z" />
                            </svg>

                            {{informationPen[2]}}
                        </li>
                        <li class="delete-li" (click)="handleDeleteClick()">
                            <svg viewBox="0 0 16 19">
                                <path
                                    d="M.177 7.152A1 1 0 0 1 1.166 6h13.668a1 1 0 0 1 .989 1.152l-1.693 11a1 1 0 0 1-.988.848H2.858a1 1 0 0 1-.988-.848l-1.693-11ZM0 4a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Z">
                                </path>
                                <path d="M8 1.5A2.5 2.5 0 0 0 5.5 4h-1a3.5 3.5 0 1 1 7 0h-1A2.5 2.5 0 0 0 8 1.5Z">
                                </path>
                            </svg>
                            {{informationPen[3]}}
                        </li>
                    </ul>
                </div>
                <div class="list-collection-add {{random_number}}">
                    <app-list-collection-to-add-pen [pen_id]="pen_id"></app-list-collection-to-add-pen>
                </div>
                <span (click)="onClickInformationPen()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                        class="bi bi-three-dots" viewBox="0 0 16 16">
                        <path
                            d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z">
                        </path>
                    </svg>
                </span>
            </div>
        </div>
        <footer class="footer-code-grid-container">
            <button>
                <svg viewBox="-2 0 105 92" data-love-level="0" fill="white">
                    <path
                        d="M85.24 2.67C72.29-3.08 55.75 2.67 50 14.9 44.25 2 27-3.8 14.76 2.67 1.1 9.14-5.37 25 5.42 44.38 13.33 58 27 68.11 50 86.81 73.73 68.11 87.39 58 94.58 44.38c10.79-18.7 4.32-35.24-9.34-41.71Z">
                    </path>
                </svg>
                {{data.like}}
            </button>
            <button (click)="openDetailPen()">
                <svg viewBox="-405.9 238 56.3 54.8" title="Comment" fill="white">
                    <path
                        d="M-391 291.4c0 1.5 1.2 1.7 1.9 1.2 1.8-1.6 15.9-14.6 15.9-14.6h19.3c3.8 0 4.4-.8 4.4-4.5v-31.1c0-3.7-.8-4.5-4.4-4.5h-47.4c-3.6 0-4.4.9-4.4 4.5v31.1c0 3.7.7 4.4 4.4 4.4h10.4v13.5z">
                    </path>
                </svg>
                {{data.comment}}
            </button>
            <button>
                <svg viewBox="0 0 30.5 16.5" title="Views" fill="currentColor">
                    <path
                        d="M15.3 0C8.9 0 3.3 3.3 0 8.3c3.3 5 8.9 8.3 15.3 8.3s12-3.3 15.3-8.3C27.3 3.3 21.7 0 15.3 0zm0 14.5c-3.4 0-6.2-2.8-6.2-6.2C9 4.8 11.8 2 15.3 2c3.4 0 6.2 2.8 6.2 6.2 0 3.5-2.8 6.3-6.2 6.3z">
                    </path>
                </svg>
                {{data.view}}
            </button>
        </footer>
    </div>

    <div class="background-code {{random_number}}">

    </div>

</div>

<app-detail-pen [pen_id]="pen_id" (closeDetailPen)="handleChildDetailPenClose()"
    *ngIf="childDetailPenVisible"></app-detail-pen>


<div class="background-code {{random_number}}">
</div>