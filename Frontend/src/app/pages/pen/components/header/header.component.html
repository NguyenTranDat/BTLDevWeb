<div>
    <section id="header">
        <div class="left">
            <a href="/following">
                <h2 class="logo" href="/following"><i class="fa-brands fa-codepen" style="color: #ffffff;"></i></h2>

            </a>
            <!-- ... (trong phần project-details) -->
            <div class="project-details">
                <h4 class="title" *ngIf="!isEditingTitle">
                    {{ projectTitle }}
                    <i class="fa-solid fa-pencil" style="color: #ffffff; cursor: pointer;"
                        (click)="startEditingTitle()"></i>
                </h4>
                <input #projectTitleInput *ngIf="isEditingTitle" [(ngModel)]="projectTitle" class="project-title-input"
                    (blur)="stopEditingTitle()" />
                <p>


                    {{ data?.user?.user_name && data.pen.pen_id ? data?.user?.user_name : (user ? user.user_name :
                    'Captain Anonymous' )}}
                    <button class="follow-button"
                        *ngIf="data?.user?.user_id != user?.user_id  && data.pen.pen_id && !data.followed"
                        (click)="handleFollowClick()">
                        <svg width = 8 height = 8 viewBox="0 0 132.4 132.4" class="FollowButton-module_statusIcon-U62Ef">
                            <path
                                d="M75.4 123.1V75.4h47.7c5.1 0 9.2-4.1 9.3-9.3s-4.2-9.3-9.3-9.3H75.4V9.3c0-5.1-4.1-9.2-9.3-9.3-5.2-.1-9.3 4.2-9.3 9.3V57H9.1C4 57-.1 61.1-.2 66.3c-.1 5.2 4.2 9.3 9.3 9.3h47.7v47.7c0 5.1 4.1 9.2 9.3 9.3s9.3-4.4 9.3-9.5z">
                            </path>
                        </svg>
                        Follow
                    </button>
                    <button class="follow-button following" id="follow-button-following"
                        *ngIf="data.user.user_id != user?.user_id && data.pen.pen_id && data.followed"
                        (mouseenter)="changeSvg(true)" (mouseleave)="changeSvg(false)" (click)="handleFollowClick()">
                        <svg viewBox="0 0 100 100" class="FollowButton-module_statusIcon-U62Ef">
                            <path
                                d="M34.6 82.4c-2.3 0-4.6-.9-6.3-2.6L8.8 60.7c-3.5-3.5-3.6-9.2-.1-12.7s9.2-3.6 12.7-.1l13.1 12.9L78.3 17c3.5-3.5 9.2-3.5 12.7 0s3.5 9.2 0 12.7L40.9 79.8c-1.7 1.8-4 2.6-6.3 2.6z">
                            </path>
                        </svg>
                        Following
                    </button>
                    <!-- <button class="follow-button following need-hover" *ngIf="data.user.user_id != user?.user_id && !data.followed"
                    (click)="handleFollowClick()" >
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="FollowButton-module_unfollowIcon-9G6hv"><path d="M96.8 83.7 63.1 50l33.7-33.7c3.6-3.6 3.6-9.4 0-13.1s-9.5-3.6-13.1 0L50 36.9 16.3 3.2C12.7-.4 6.9-.4 3.2 3.2s-3.6 9.5 0 13.1L36.9 50 3.2 83.7c-3.6 3.6-3.6 9.4 0 13.1s9.5 3.6 13.1 0L50 63.1l33.7 33.7c3.6 3.6 9.4 3.6 13.1 0s3.6-9.5 0-13.1z"></path></svg>
                        Unfollow
                    </button> -->
                </p>
            </div>
            <!-- Trong phần project-details -->

        </div>
        <div class="right">
            <ul>
                <li class="favorite-icon" *ngIf="data.pen.pen_id">
                    <a class="favorite-button" (click)="handleLikeClick()">
                        <i class="fas fa-heart" [style.color]="data?.liked ? 'red' : 'white'"></i>
                    </a>
                </li>
                <li class="save" *ngIf="user"><a (click)="toggleSave()"><i class="fas fa-cloud"></i> Save</a></li>
                <li class="settings" *ngIf="user"><a><i class="fas fa-gear"></i> Settings</a></li>
                <li class="save" *ngIf="!user"><a (click)="onLoginButtonClick()"><i class="fas fa-cloud"></i>
                        Save</a></li>
                <li class="settings" *ngIf="!user"><a (click)="onLoginButtonClick()"><i class="fas fa-gear"></i>
                        Settings</a></li>
                <li class="view"><a><i class="fas fa-object-group"></i></a></li>
                <li class="submenu" (click)="toggleMenu()"><a><i class="fas fa-square-caret-down"></i></a></li>
                <li *ngIf="!user"><a class="signup" (click)="onSigninButtonClick()">Sign Up</a></li>
                <li *ngIf="!user"><a class="login" (click)="onLoginButtonClick()">Log In</a></li>
                <li *ngIf="user"><img style="border-radius: 4px;"
                        src="https://assets.codepen.io/t-1/user-default-avatar.jpg?format=auto&version=0&width=36&height=36"
                        alt="User Avatar"></li>
            </ul>
        </div>
        <ul class="mobile-menu" [style.right]="isMenuOpen ? '75px' : '-400px'" id="side-menu">
            <li class="save" (click)="toggleSave()"><a><i class="fa-solid fa-cloud"></i> Save</a></li>
            <li class="settings"><a><i class="fa-solid fa-gear"></i> Settings</a></li>
            <i class="fa-solid fa-xmark close" (click)="toggleMenu()"></i>
        </ul>
    </section>
</div>